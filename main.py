# -*- coding: utf-8 -*-
"""Data Downloader.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1Dm273yUE_i1wuBABisoCfuZbtKCeIaKz
"""

import subprocess
subprocess.check_call(["pip", "install", "yfinance"])



import yfinance as yf
import pandas as pd
from datetime import datetime, timedelta

yf.enable_debug_mode

# List of 30 cryptocurrencies
crypto_list = [
    'BTC-USD', 'STETH-USD',  'LEO-USD', 'BCH-USD']


def download_data(cryptos, duration):

    # Initialize an empty DataFrame to hold all the data
    data = pd.DataFrame()

    data = yf.download(cryptos, start="2024-1-1", end="2024-12-31")

    return data

df = download_data(crypto_list, 365)

df.to_csv(r'crypto_data.csv',index=True, header = True)
df = df.drop(['High','Low','Open','Volume'],axis=1)
df.head()

df=df.droplevel('Price',axis=1)
df.head()

df.to_csv(r'4_crypto_data.csv',index=True, header = True)
data = pd.read_csv('4_crypto_data.csv', sep=',',encoding='utf-8',index_col=0,parse_dates=True)

data['ds'] = pd.to_datetime(data.index)
data['y'] = data['BTC-USD']

data['unique_id'] = 'BTC-USD'



